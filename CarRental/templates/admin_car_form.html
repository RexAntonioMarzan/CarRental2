{% extends "base.html" %}
{% block title %}{{ 'Edit car' if car else 'New car' }}{% endblock %}

{% block content %}
<section class="card" style="max-width: 600px; margin: 0 auto;">
  <h1 style="margin-bottom: 16px;">{{ 'Edit car' if car else 'Add new car' }}</h1>

  <form method="post" style="display:flex; flex-direction:column; gap:12px;">
    <div>
      <label for="name">Car name</label>
      <input id="name" name="name" type="text" required
             value="{{ car.name if car else '' }}">
    </div>

    <div>
      <label for="car_type">Type</label>
      <select id="car_type" name="car_type" required>
        {% set types = ['Sedan','SUV','MPV','Van','Pickup'] %}
        {% for t in types %}
          <option value="{{ t }}"
            {% if car and car.car_type == t %}selected{% endif %}>
            {{ t }}
          </option>
        {% endfor %}
      </select>
    </div>

    <div>
      <label for="price_per_day">Price per day (â‚±)</label>
      <input id="price_per_day" name="price_per_day" type="number" step="0.01" min="0" required
             value="{{ car.price_per_day if car else '' }}">
    </div>

    <div>
      <label for="image_url">Image path (under static/)</label>
      <input id="image_url" name="image_url" type="text"
             placeholder="e.g. images/Toyota Vios.jpg"
             value="{{ car.image_url if car else '' }}">
      <p style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">
        Example actual URL sa frontend:
        <code>{{ "{{ url_for('static', filename='images/Toyota Vios.jpg') }}" }}</code>
      </p>
    </div>

    <div class="form-actions" style="margin-top: 10px;">
      <button class="btn" type="submit">{{ 'Save changes' if car else 'Create car' }}</button>
      <a class="btn secondary" href="{{ url_for('admin_cars') }}">Cancel</a>
    </div>
  </form>
</section>
{% endblock %}